<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Magical Shop - BookLover</title>
    <!-- Use main style first for variables and base -->
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/shop.css">
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css">
    <!-- Ionicons -->
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
</head>

<body>

    <!-- Header will be loaded here -->
    <div id="header"></div>

    <!-- Shop Hero -->
    <section class="shop-hero" data-aos="fade-up">
        <div class="hero-floats">
            <ion-icon name="book-outline" class="float-item"
                style="top: 20%; left: 10%; color: #FF6B6B; --delay: 3s;"></ion-icon>
            <ion-icon name="star-outline" class="float-item"
                style="bottom: 30%; right: 15%; color: #FFD93D; --delay: 2s;"></ion-icon>
            <ion-icon name="glasses-outline" class="float-item"
                style="top: 15%; right: 20%; color: #4D96FF; --delay: 4s;"></ion-icon>
            <ion-icon name="flask-outline" class="float-item"
                style="bottom: 20%; left: 15%; color: #6BCB77; --delay: 2.5s;"></ion-icon>
        </div>

        <div class="container hero-layout"
            style="position: relative; z-index: 2; display: flex; align-items: center; justify-content: space-between; gap: 50px;">
            <div class="hero-content" style="flex: 1; text-align: left;" data-aos="fade-right">
                <span class="pill-badge glass-pill">
                    <ion-icon name="sparkles" style="color: #FFD93D; margin-right: 5px;"></ion-icon>
                    Premium Collection
                </span>
                <h1 class="hero-title">Discover Your <br> <span class="gradient-text">Next Adventure</span></h1>
                <p class="hero-subtitle">Explore our curated collection of bestsellers, classics, and hidden gems
                    waiting to be read.</p>

                <!-- Search -->
                <div class="search-container" style="margin: 0;">
                    <input type="text" class="search-input" placeholder="Search for title, author, or genre...">
                    <button class="search-btn">
                        <ion-icon name="search-outline"></ion-icon>
                    </button>
                </div>

                <div class="hero-tags">
                    <span>Fiction</span>
                    <span>Sci-Fi</span>
                    <span>History</span>
                </div>
            </div>

            <div class="hero-visual" style="flex: 1; display: flex; justify-content: center; perspective: 1500px;"
                data-aos="fade-left" data-aos-delay="150">
                <div class="hero-book-wrapper">
                    <div class="hero-book-3d">
                        <div class="face front">
                            <img src="https://images.unsplash.com/photo-1534447677768-be436bb09401?auto=format&fit=crop&q=80&w=600"
                                alt="Featured Book">
                        </div>
                        <div class="face back"></div>
                        <div class="face left"></div>
                        <div class="face right"></div>
                        <div class="face top"></div>
                        <div class="face bottom"></div>
                    </div>
                    <div class="book-shadow"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Filters -->
    <div class="container">
        <div class="category-filter" data-aos="fade-up">
            <div class="filter-pill active" data-category="all" data-aos="zoom-in" data-aos-delay="50">All Books</div>
            <div class="filter-pill" data-category="sifi" data-aos="zoom-in" data-aos-delay="100">Sci-Fi</div>
            <div class="filter-pill" data-category="historical-fiction" data-aos="zoom-in" data-aos-delay="150">
                Historical Fiction</div>
            <div class="filter-pill" data-category="crime-thriller" data-aos="zoom-in" data-aos-delay="200">Crime &
                Thriller</div>
            <div class="filter-pill" data-category="romance" data-aos="zoom-in" data-aos-delay="250">Romance</div>
            <div class="filter-pill" data-category="non-fiction" data-aos="zoom-in" data-aos-delay="300">Non-Fiction
            </div>
            <div class="filter-pill" data-category="children" data-aos="zoom-in" data-aos-delay="350">Children</div>
            <div class="filter-pill" data-category="young-adult" data-aos="zoom-in" data-aos-delay="400">Young Adult
            </div>
            <div class="filter-pill special-pill" data-category="special" data-aos="zoom-in" data-aos-delay="450">
                <ion-icon name="sparkles"></ion-icon> Special Edition
            </div>
        </div>

        <!-- Featured / Trending -->
        <h2 class="category-section-title" data-aos="fade-up"><ion-icon name="flame" style="color: #FF6B6B;"></ion-icon>
            Trending Collection</h2>

        <div class="shop-grid">

            <!-- SPECIAL EDITION (6 items) -->
            <div class="book-card special-card" data-category="special" data-aos="fade-up">
                <div class="badge-new">Collector's</div>
                <div class="book-cover"><img src="https://covers.openlibrary.org/b/isbn/9780062315007-L.jpg"
                        alt="The Alchemist" class="book-image"></div>
                <div class="book-details">
                    <h3 class="book-title">The Alchemist (Gold)</h3>
                    <p class="book-author">Paulo Coelho</p>
                    <div class="book-footer">
                        <div class="book-price">$149.99</div>
                        <div class="add-btn"><ion-icon name="bag-add-outline"></ion-icon></div>
                    </div>
                </div>
            </div>
            <div class="book-card special-card" data-category="special" data-aos="fade-up">
                <div class="badge-new">Signed</div>
                <div class="book-cover"><img src="https://covers.openlibrary.org/b/isbn/9780545162074-L.jpg"
                        alt="Harry Potter" class="book-image"></div>
                <div class="book-details">
                    <h3 class="book-title">Harry Potter Set</h3>
                    <p class="book-author">J.K. Rowling</p>
                    <div class="book-footer">
                        <div class="book-price">$299.99</div>
                        <div class="add-btn"><ion-icon name="bag-add-outline"></ion-icon></div>
                    </div>
                </div>
            </div>

            <!-- SCI-FI (6 items) -->
            <div class="book-card" data-category="sifi" data-aos="fade-up">
                <div class="book-cover"><img src="https://covers.openlibrary.org/b/isbn/9780593135204-L.jpg"
                        alt="Project Hail Mary" class="book-image"></div>
                <div class="book-details">
                    <h3 class="book-title">Project Hail Mary</h3>
                    <p class="book-author">Andy Weir</p>
                    <div class="book-footer">
                        <div class="book-price">$19.99</div>
                        <div class="add-btn"><ion-icon name="bag-add-outline"></ion-icon></div>
                    </div>
                </div>
            </div>
            <div class="book-card" data-category="sifi" data-aos="fade-up">
                <div class="book-cover"><img src="https://covers.openlibrary.org/b/isbn/9780441017218-L.jpg" alt="Dune"
                        class="book-image"></div>
                <div class="book-details">
                    <h3 class="book-title">Dune</h3>
                    <p class="book-author">Frank Herbert</p>
                    <div class="book-footer">
                        <div class="book-price">$22.50</div>
                        <div class="add-btn"><ion-icon name="bag-add-outline"></ion-icon></div>
                    </div>
                </div>
            </div>
            <div class="book-card" data-category="sifi" data-aos="fade-up">
                <div class="book-cover"><img src="https://covers.openlibrary.org/b/isbn/9780553418026-L.jpg"
                        alt="The Martian" class="book-image"></div>
                <div class="book-details">
                    <h3 class="book-title">The Martian</h3>
                    <p class="book-author">Andy Weir</p>
                    <div class="book-footer">
                        <div class="book-price">$16.99</div>
                        <div class="add-btn"><ion-icon name="bag-add-outline"></ion-icon></div>
                    </div>
                </div>
            </div>
            <div class="book-card" data-category="sifi" data-aos="fade-up">
                <div class="book-cover"><img src="https://covers.openlibrary.org/b/isbn/9780441569595-L.jpg"
                        alt="Neuromancer" class="book-image"></div>
                <div class="book-details">
                    <h3 class="book-title">Neuromancer</h3>
                    <p class="book-author">William Gibson</p>
                    <div class="book-footer">
                        <div class="book-price">$18.00</div>
                        <div class="add-btn"><ion-icon name="bag-add-outline"></ion-icon></div>
                    </div>
                </div>
            </div>
            <div class="book-card" data-category="sifi" data-aos="fade-up">
                <div class="book-cover"><img src="https://covers.openlibrary.org/b/isbn/9780553293357-L.jpg"
                        alt="Foundation" class="book-image"></div>
                <div class="book-details">
                    <h3 class="book-title">Foundation</h3>
                    <p class="book-author">Isaac Asimov</p>
                    <div class="book-footer">
                        <div class="book-price">$14.50</div>
                        <div class="add-btn"><ion-icon name="bag-add-outline"></ion-icon></div>
                    </div>
                </div>
            </div>
            <div class="book-card" data-category="sifi" data-aos="fade-up">
                <div class="book-cover"><img src="https://covers.openlibrary.org/b/isbn/9780812550702-L.jpg"
                        alt="Enders Game" class="book-image"></div>
                <div class="book-details">
                    <h3 class="book-title">Ender's Game</h3>
                    <p class="book-author">Orson Scott Card</p>
                    <div class="book-footer">
                        <div class="book-price">$15.99</div>
                        <div class="add-btn"><ion-icon name="bag-add-outline"></ion-icon></div>
                    </div>
                </div>
            </div>

            <!-- HISTORICAL FICTION (6 items) -->
            <div class="book-card" data-category="historical-fiction" data-aos="fade-up">
                <div class="book-cover"><img src="https://covers.openlibrary.org/b/isbn/9780312577223-L.jpg"
                        alt="The Nightingale" class="book-image"></div>
                <div class="book-details">
                    <h3 class="book-title">The Nightingale</h3>
                    <p class="book-author">Kristin Hannah</p>
                    <div class="book-footer">
                        <div class="book-price">$16.99</div>
                        <div class="add-btn"><ion-icon name="bag-add-outline"></ion-icon></div>
                    </div>
                </div>
            </div>
            <div class="book-card" data-category="historical-fiction" data-aos="fade-up">
                <div class="book-cover"><img src="https://covers.openlibrary.org/b/isbn/9781501161933-L.jpg"
                        alt="All The Light" class="book-image"></div>
                <div class="book-details">
                    <h3 class="book-title">All The Light We Cannot See</h3>
                    <p class="book-author">Anthony Doerr</p>
                    <div class="book-footer">
                        <div class="book-price">$18.00</div>
                        <div class="add-btn"><ion-icon name="bag-add-outline"></ion-icon></div>
                    </div>
                </div>
            </div>
            <div class="book-card" data-category="historical-fiction" data-aos="fade-up">
                <div class="book-cover"><img src="https://covers.openlibrary.org/b/isbn/9780375842207-L.jpg"
                        alt="Book Thief" class="book-image"></div>
                <div class="book-details">
                    <h3 class="book-title">The Book Thief</h3>
                    <p class="book-author">Markus Zusak</p>
                    <div class="book-footer">
                        <div class="book-price">$14.99</div>
                        <div class="add-btn"><ion-icon name="bag-add-outline"></ion-icon></div>
                    </div>
                </div>
            </div>
            <div class="book-card" data-category="historical-fiction" data-aos="fade-up">
                <div class="book-cover"><img src="https://covers.openlibrary.org/b/isbn/9780805080681-L.jpg"
                        alt="Wolf Hall" class="book-image"></div>
                <div class="book-details">
                    <h3 class="book-title">Wolf Hall</h3>
                    <p class="book-author">Hilary Mantel</p>
                    <div class="book-footer">
                        <div class="book-price">$19.00</div>
                        <div class="add-btn"><ion-icon name="bag-add-outline"></ion-icon></div>
                    </div>
                </div>
            </div>
            <div class="book-card" data-category="historical-fiction" data-aos="fade-up">
                <div class="book-cover"><img src="https://covers.openlibrary.org/b/isbn/9780451166890-L.jpg"
                        alt="Pillars of Earth" class="book-image"></div>
                <div class="book-details">
                    <h3 class="book-title">The Pillars of the Earth</h3>
                    <p class="book-author">Ken Follett</p>
                    <div class="book-footer">
                        <div class="book-price">$24.99</div>
                        <div class="add-btn"><ion-icon name="bag-add-outline"></ion-icon></div>
                    </div>
                </div>
            </div>
            <div class="book-card" data-category="historical-fiction" data-aos="fade-up">
                <div class="book-cover"><img src="https://covers.openlibrary.org/b/isbn/9781594631931-L.jpg"
                        alt="Kite Runner" class="book-image"></div>
                <div class="book-details">
                    <h3 class="book-title">The Kite Runner</h3>
                    <p class="book-author">Khaled Hosseini</p>
                    <div class="book-footer">
                        <div class="book-price">$15.99</div>
                        <div class="add-btn"><ion-icon name="bag-add-outline"></ion-icon></div>
                    </div>
                </div>
            </div>

            <!-- CRIME & THRILLER (6 items) -->
            <div class="book-card" data-category="crime-thriller" data-aos="fade-up">
                <div class="book-cover"><img src="https://covers.openlibrary.org/b/isbn/9780307588371-L.jpg"
                        alt="Gone Girl" class="book-image"></div>
                <div class="book-details">
                    <h3 class="book-title">Gone Girl</h3>
                    <p class="book-author">Gillian Flynn</p>
                    <div class="book-footer">
                        <div class="book-price">$15.00</div>
                        <div class="add-btn"><ion-icon name="bag-add-outline"></ion-icon></div>
                    </div>
                </div>
            </div>
            <div class="book-card" data-category="crime-thriller" data-aos="fade-up">
                <div class="book-cover"><img src="https://covers.openlibrary.org/b/isbn/9781594634024-L.jpg"
                        alt="Girl on Train" class="book-image"></div>
                <div class="book-details">
                    <h3 class="book-title">The Girl on the Train</h3>
                    <p class="book-author">Paula Hawkins</p>
                    <div class="book-footer">
                        <div class="book-price">$14.00</div>
                        <div class="add-btn"><ion-icon name="bag-add-outline"></ion-icon></div>
                    </div>
                </div>
            </div>
            <div class="book-card" data-category="crime-thriller" data-aos="fade-up">
                <div class="book-cover"><img src="https://covers.openlibrary.org/b/isbn/9780307474278-L.jpg"
                        alt="Da Vinci Code" class="book-image"></div>
                <div class="book-details">
                    <h3 class="book-title">The Da Vinci Code</h3>
                    <p class="book-author">Dan Brown</p>
                    <div class="book-footer">
                        <div class="book-price">$16.50</div>
                        <div class="add-btn"><ion-icon name="bag-add-outline"></ion-icon></div>
                    </div>
                </div>
            </div>
            <div class="book-card" data-category="crime-thriller" data-aos="fade-up">
                <div class="book-cover"><img src="https://covers.openlibrary.org/b/isbn/9781250301697-L.jpg"
                        alt="Silent Patient" class="book-image"></div>
                <div class="book-details">
                    <h3 class="book-title">The Silent Patient</h3>
                    <p class="book-author">Alex Michaelides</p>
                    <div class="book-footer">
                        <div class="book-price">$17.99</div>
                        <div class="add-btn"><ion-icon name="bag-add-outline"></ion-icon></div>
                    </div>
                </div>
            </div>
            <div class="book-card" data-category="crime-thriller" data-aos="fade-up">
                <div class="book-cover"><img src="https://covers.openlibrary.org/b/isbn/9780399167065-L.jpg"
                        alt="Big Little Lies" class="book-image"></div>
                <div class="book-details">
                    <h3 class="book-title">Big Little Lies</h3>
                    <p class="book-author">Liane Moriarty</p>
                    <div class="book-footer">
                        <div class="book-price">$15.99</div>
                        <div class="add-btn"><ion-icon name="bag-add-outline"></ion-icon></div>
                    </div>
                </div>
            </div>
            <div class="book-card" data-category="crime-thriller" data-aos="fade-up">
                <div class="book-cover"><img src="https://covers.openlibrary.org/b/isbn/9780307341556-L.jpg"
                        alt="Sharp Objects" class="book-image"></div>
                <div class="book-details">
                    <h3 class="book-title">Sharp Objects</h3>
                    <p class="book-author">Gillian Flynn</p>
                    <div class="book-footer">
                        <div class="book-price">$13.99</div>
                        <div class="add-btn"><ion-icon name="bag-add-outline"></ion-icon></div>
                    </div>
                </div>
            </div>

            <!-- ROMANCE (6 items) -->
            <div class="book-card" data-category="romance" data-aos="fade-up">
                <div class="book-cover"><img src="https://covers.openlibrary.org/b/isbn/9780141439518-L.jpg"
                        alt="Pride and Prejudice" class="book-image"></div>
                <div class="book-details">
                    <h3 class="book-title">Pride and Prejudice</h3>
                    <p class="book-author">Jane Austen</p>
                    <div class="book-footer">
                        <div class="book-price">$12.99</div>
                        <div class="add-btn"><ion-icon name="bag-add-outline"></ion-icon></div>
                    </div>
                </div>
            </div>
            <div class="book-card" data-category="romance" data-aos="fade-up">
                <div class="book-cover"><img src="https://covers.openlibrary.org/b/isbn/9781455582877-L.jpg"
                        alt="Note Book" class="book-image"></div>
                <div class="book-details">
                    <h3 class="book-title">The Notebook</h3>
                    <p class="book-author">Nicholas Sparks</p>
                    <div class="book-footer">
                        <div class="book-price">$14.00</div>
                        <div class="add-btn"><ion-icon name="bag-add-outline"></ion-icon></div>
                    </div>
                </div>
            </div>
            <div class="book-card" data-category="romance" data-aos="fade-up">
                <div class="book-cover"><img src="https://covers.openlibrary.org/b/isbn/9781501110368-L.jpg"
                        alt="It ends with us" class="book-image"></div>
                <div class="book-details">
                    <h3 class="book-title">It Ends with Us</h3>
                    <p class="book-author">Colleen Hoover</p>
                    <div class="book-footer">
                        <div class="book-price">$16.99</div>
                        <div class="add-btn"><ion-icon name="bag-add-outline"></ion-icon></div>
                    </div>
                </div>
            </div>
            <div class="book-card" data-category="romance" data-aos="fade-up">
                <div class="book-cover"><img src="https://covers.openlibrary.org/b/isbn/9780143124542-L.jpg"
                        alt="Me Before You" class="book-image"></div>
                <div class="book-details">
                    <h3 class="book-title">Me Before You</h3>
                    <p class="book-author">Jojo Moyes</p>
                    <div class="book-footer">
                        <div class="book-price">$15.50</div>
                        <div class="add-btn"><ion-icon name="bag-add-outline"></ion-icon></div>
                    </div>
                </div>
            </div>
            <div class="book-card" data-category="romance" data-aos="fade-up">
                <div class="book-cover"><img src="https://covers.openlibrary.org/b/isbn/9780440212560-L.jpg"
                        alt="Outlander" class="book-image"></div>
                <div class="book-details">
                    <h3 class="book-title">Outlander</h3>
                    <p class="book-author">Diana Gabaldon</p>
                    <div class="book-footer">
                        <div class="book-price">$18.99</div>
                        <div class="add-btn"><ion-icon name="bag-add-outline"></ion-icon></div>
                    </div>
                </div>
            </div>
            <div class="book-card" data-category="romance" data-aos="fade-up">
                <div class="book-cover"><img src="https://covers.openlibrary.org/b/isbn/9780063078925-L.jpg"
                        alt="Bridgerton" class="book-image"></div>
                <div class="book-details">
                    <h3 class="book-title">The Duke and I</h3>
                    <p class="book-author">Julia Quinn</p>
                    <div class="book-footer">
                        <div class="book-price">$14.99</div>
                        <div class="add-btn"><ion-icon name="bag-add-outline"></ion-icon></div>
                    </div>
                </div>
            </div>

            <!-- NON-FICTION (6 items) -->
            <div class="book-card" data-category="non-fiction" data-aos="fade-up">
                <div class="book-cover"><img src="https://covers.openlibrary.org/b/isbn/9780062316097-L.jpg"
                        alt="Sapiens" class="book-image"></div>
                <div class="book-details">
                    <h3 class="book-title">Sapiens</h3>
                    <p class="book-author">Yuval Noah Harari</p>
                    <div class="book-footer">
                        <div class="book-price">$21.00</div>
                        <div class="add-btn"><ion-icon name="bag-add-outline"></ion-icon></div>
                    </div>
                </div>
            </div>
            <div class="book-card" data-category="non-fiction" data-aos="fade-up">
                <div class="book-cover"><img src="https://covers.openlibrary.org/b/isbn/9780399590504-L.jpg"
                        alt="Educated" class="book-image"></div>
                <div class="book-details">
                    <h3 class="book-title">Educated</h3>
                    <p class="book-author">Tara Westover</p>
                    <div class="book-footer">
                        <div class="book-price">$17.99</div>
                        <div class="add-btn"><ion-icon name="bag-add-outline"></ion-icon></div>
                    </div>
                </div>
            </div>
            <div class="book-card" data-category="non-fiction" data-aos="fade-up">
                <div class="book-cover"><img src="https://covers.openlibrary.org/b/isbn/9781524763138-L.jpg"
                        alt="Becoming" class="book-image"></div>
                <div class="book-details">
                    <h3 class="book-title">Becoming</h3>
                    <p class="book-author">Michelle Obama</p>
                    <div class="book-footer">
                        <div class="book-price">$19.99</div>
                        <div class="add-btn"><ion-icon name="bag-add-outline"></ion-icon></div>
                    </div>
                </div>
            </div>
            <div class="book-card" data-category="non-fiction" data-aos="fade-up">
                <div class="book-cover"><img src="https://covers.openlibrary.org/b/isbn/9780735211292-L.jpg"
                        alt="Atomic Habits" class="book-image"></div>
                <div class="book-details">
                    <h3 class="book-title">Atomic Habits</h3>
                    <p class="book-author">James Clear</p>
                    <div class="book-footer">
                        <div class="book-price">$20.00</div>
                        <div class="add-btn"><ion-icon name="bag-add-outline"></ion-icon></div>
                    </div>
                </div>
            </div>
            <div class="book-card" data-category="non-fiction" data-aos="fade-up">
                <div class="book-cover"><img src="https://covers.openlibrary.org/b/isbn/9780374275631-L.jpg"
                        alt="Thinking Fast Slow" class="book-image"></div>
                <div class="book-details">
                    <h3 class="book-title">Thinking, Fast and Slow</h3>
                    <p class="book-author">Daniel Kahneman</p>
                    <div class="book-footer">
                        <div class="book-price">$18.50</div>
                        <div class="add-btn"><ion-icon name="bag-add-outline"></ion-icon></div>
                    </div>
                </div>
            </div>
            <div class="book-card" data-category="non-fiction" data-aos="fade-up">
                <div class="book-cover"><img src="https://covers.openlibrary.org/b/isbn/9781400052189-L.jpg"
                        alt="Immortal Life" class="book-image"></div>
                <div class="book-details">
                    <h3 class="book-title">The Immortal Life of Henrietta Lacks</h3>
                    <p class="book-author">Rebecca Skloot</p>
                    <div class="book-footer">
                        <div class="book-price">$16.00</div>
                        <div class="add-btn"><ion-icon name="bag-add-outline"></ion-icon></div>
                    </div>
                </div>
            </div>

            <!-- CHILDREN (6 items) -->
            <div class="book-card" data-category="children" data-aos="fade-up">
                <div class="book-cover"><img src="https://covers.openlibrary.org/b/isbn/9780061124952-L.jpg"
                        alt="Charlottes Web" class="book-image"></div>
                <div class="book-details">
                    <h3 class="book-title">Charlotte's Web</h3>
                    <p class="book-author">E.B. White</p>
                    <div class="book-footer">
                        <div class="book-price">$10.99</div>
                        <div class="add-btn"><ion-icon name="bag-add-outline"></ion-icon></div>
                    </div>
                </div>
            </div>
            <div class="book-card" data-category="children" data-aos="fade-up">
                <div class="book-cover"><img src="https://covers.openlibrary.org/b/isbn/9780399226908-L.jpg"
                        alt="Hungry Caterpillar" class="book-image"></div>
                <div class="book-details">
                    <h3 class="book-title">The Very Hungry Caterpillar</h3>
                    <p class="book-author">Eric Carle</p>
                    <div class="book-footer">
                        <div class="book-price">$9.99</div>
                        <div class="add-btn"><ion-icon name="bag-add-outline"></ion-icon></div>
                    </div>
                </div>
            </div>
            <div class="book-card" data-category="children" data-aos="fade-up">
                <div class="book-cover"><img src="https://covers.openlibrary.org/b/isbn/9780060254926-L.jpg"
                        alt="Where Wild Things Are" class="book-image"></div>
                <div class="book-details">
                    <h3 class="book-title">Where the Wild Things Are</h3>
                    <p class="book-author">Maurice Sendak</p>
                    <div class="book-footer">
                        <div class="book-price">$12.50</div>
                        <div class="add-btn"><ion-icon name="bag-add-outline"></ion-icon></div>
                    </div>
                </div>
            </div>
            <div class="book-card" data-category="children" data-aos="fade-up">
                <div class="book-cover"><img src="https://covers.openlibrary.org/b/isbn/9780142410370-L.jpg"
                        alt="Matilda" class="book-image"></div>
                <div class="book-details">
                    <h3 class="book-title">Matilda</h3>
                    <p class="book-author">Roald Dahl</p>
                    <div class="book-footer">
                        <div class="book-price">$11.00</div>
                        <div class="add-btn"><ion-icon name="bag-add-outline"></ion-icon></div>
                    </div>
                </div>
            </div>
            <div class="book-card" data-category="children" data-aos="fade-up">
                <div class="book-cover"><img src="https://covers.openlibrary.org/b/isbn/9780060256654-L.jpg"
                        alt="Giving Tree" class="book-image"></div>
                <div class="book-details">
                    <h3 class="book-title">The Giving Tree</h3>
                    <p class="book-author">Shel Silverstein</p>
                    <div class="book-footer">
                        <div class="book-price">$13.50</div>
                        <div class="add-btn"><ion-icon name="bag-add-outline"></ion-icon></div>
                    </div>
                </div>
            </div>
            <div class="book-card" data-category="children" data-aos="fade-up">
                <div class="book-cover"><img src="https://covers.openlibrary.org/b/isbn/9780525444435-L.jpg"
                        alt="Winnie Pooh" class="book-image"></div>
                <div class="book-details">
                    <h3 class="book-title">Winnie-the-Pooh</h3>
                    <p class="book-author">A.A. Milne</p>
                    <div class="book-footer">
                        <div class="book-price">$10.00</div>
                        <div class="add-btn"><ion-icon name="bag-add-outline"></ion-icon></div>
                    </div>
                </div>
            </div>

            <!-- YOUNG ADULT (6 items) -->
            <div class="book-card" data-category="young-adult" data-aos="fade-up">
                <div class="book-cover"><img src="https://covers.openlibrary.org/b/isbn/9780439023481-L.jpg"
                        alt="Hunger Games" class="book-image"></div>
                <div class="book-details">
                    <h3 class="book-title">The Hunger Games</h3>
                    <p class="book-author">Suzanne Collins</p>
                    <div class="book-footer">
                        <div class="book-price">$14.99</div>
                        <div class="add-btn"><ion-icon name="bag-add-outline"></ion-icon></div>
                    </div>
                </div>
            </div>
            <div class="book-card" data-category="young-adult" data-aos="fade-up">
                <div class="book-cover"><img src="https://covers.openlibrary.org/b/isbn/9780590353403-L.jpg"
                        alt="Harry Potter 1" class="book-image"></div>
                <div class="book-details">
                    <h3 class="book-title">Harry Potter and the Sorcerer's Stone</h3>
                    <p class="book-author">J.K. Rowling</p>
                    <div class="book-footer">
                        <div class="book-price">$15.00</div>
                        <div class="add-btn"><ion-icon name="bag-add-outline"></ion-icon></div>
                    </div>
                </div>
            </div>
            <div class="book-card" data-category="young-adult" data-aos="fade-up">
                <div class="book-cover"><img src="https://covers.openlibrary.org/b/isbn/9780786838653-L.jpg"
                        alt="Percy Jackson" class="book-image"></div>
                <div class="book-details">
                    <h3 class="book-title">Percy Jackson: The Lightning Thief</h3>
                    <p class="book-author">Rick Riordan</p>
                    <div class="book-footer">
                        <div class="book-price">$12.99</div>
                        <div class="add-btn"><ion-icon name="bag-add-outline"></ion-icon></div>
                    </div>
                </div>
            </div>
            <div class="book-card" data-category="young-adult" data-aos="fade-up">
                <div class="book-cover"><img src="https://covers.openlibrary.org/b/isbn/9780525478812-L.jpg"
                        alt="Fault in Our Stars" class="book-image"></div>
                <div class="book-details">
                    <h3 class="book-title">The Fault in Our Stars</h3>
                    <p class="book-author">John Green</p>
                    <div class="book-footer">
                        <div class="book-price">$13.50</div>
                        <div class="add-btn"><ion-icon name="bag-add-outline"></ion-icon></div>
                    </div>
                </div>
            </div>
            <div class="book-card" data-category="young-adult" data-aos="fade-up">
                <div class="book-cover"><img src="https://covers.openlibrary.org/b/isbn/9780062024039-L.jpg"
                        alt="Divergent" class="book-image"></div>
                <div class="book-details">
                    <h3 class="book-title">Divergent</h3>
                    <p class="book-author">Veronica Roth</p>
                    <div class="book-footer">
                        <div class="book-price">$14.00</div>
                        <div class="add-btn"><ion-icon name="bag-add-outline"></ion-icon></div>
                    </div>
                </div>
            </div>
            <div class="book-card" data-category="young-adult" data-aos="fade-up">
                <div class="book-cover"><img src="https://covers.openlibrary.org/b/isbn/9780316015844-L.jpg"
                        alt="Twilight" class="book-image"></div>
                <div class="book-details">
                    <h3 class="book-title">Twilight</h3>
                    <p class="book-author">Stephenie Meyer</p>
                    <div class="book-footer">
                        <div class="book-price">$15.00</div>
                        <div class="add-btn"><ion-icon name="bag-add-outline"></ion-icon></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- View More Button Container -->
    <div class="view-more-container" style="text-align: center; margin: 40px 0; display: none;">
        <button id="viewMoreBtn" class="btn btn-primary" style="padding: 12px 30px; font-size: 16px;">
            View More <ion-icon name="chevron-down-outline" style="margin-left:8px;"></ion-icon>
        </button>
    </div>

    <!-- Footer will be loaded here -->
    <div id="footer"></div>

    <!-- Main Interactions Script -->
    <script src="../js/script.js"></script>
    <script src="../js/cart.js"></script>
    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>

    <!-- Header/Footer Loading Script -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            AOS.init({
                duration: 800,
                once: true,
                offset: 80
            });
        });

        // Initialize Header and Footer
        fetch('../component/header.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('header').innerHTML = data;
                // Initialize mobile menu after header is loaded
                initializeMobileMenu();
                updateCartBadge();
            });

        fetch('../component/footer.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('footer').innerHTML = data;
            });

        // --- Category Filter Logic ---
        const filterPills = document.querySelectorAll('.filter-pill');
        const bookCards = document.querySelectorAll('.book-card');
        const sectionTitles = document.querySelectorAll('.category-section-title');
        const searchInput = document.querySelector('.search-input');
        const searchBtn = document.querySelector('.search-btn');

        // Function to filter books based on category and search term
        function filterContent(category, searchTerm = '') {
            searchTerm = searchTerm.toLowerCase().trim();

            // Toggle Section Titles based on mode
            if (category === 'all' && searchTerm === '') {
                sectionTitles.forEach(title => title.style.display = 'flex');
            } else {
                sectionTitles.forEach(title => title.style.display = 'none');
            }

            let visibleCount = 0;
            const viewMoreBtn = document.getElementById('viewMoreBtn');
            const isAllBooks = (category === 'all' && searchTerm === '');

            // Should we limit initial display?
            const shouldLimit = isAllBooks && !window.viewMoreExpanded;

            bookCards.forEach(card => {
                const cardCategory = card.getAttribute('data-category');
                const title = card.querySelector('.book-title').innerText.toLowerCase();
                const author = card.querySelector('.book-author').innerText.toLowerCase();

                const matchesCategory = (category === 'all' || category === cardCategory);
                const matchesSearch = (title.includes(searchTerm) || author.includes(searchTerm));

                if (matchesCategory && matchesSearch) {
                    if (shouldLimit && visibleCount >= 6) {
                        card.style.display = 'none';
                    } else {
                        card.style.display = 'flex';
                        card.style.animation = 'none';
                        card.offsetHeight; /* trigger reflow */
                        card.style.animation = 'cardEntrance 0.5s ease forwards';
                    }
                    visibleCount++;
                } else {
                    card.style.display = 'none';
                }
            });

            // Handle View More Button Visibility
            if (isAllBooks && visibleCount > 6 && !window.viewMoreExpanded) {
                viewMoreBtn.style.display = 'inline-flex';
            } else {
                viewMoreBtn.style.display = 'none';
            }

            // Refresh AOS
            setTimeout(() => { AOS.refresh(); }, 600);
        }

        // Check URL for category parameter on load
        function checkUrlCategory() {
            const urlParams = new URLSearchParams(window.location.search);
            const categoryParam = urlParams.get('category');

            if (categoryParam) {
                // Find matching pill
                const matchingPill = document.querySelector(`.filter-pill[data-category="${categoryParam}"]`);
                if (matchingPill) {
                    filterPills.forEach(p => p.classList.remove('active'));
                    matchingPill.classList.add('active');
                    filterContent(categoryParam);

                    // Optional: Scroll to filters so user sees result
                    setTimeout(() => {
                        const filterSection = document.querySelector('.category-filter');
                        if (filterSection) {
                            filterSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
                        }
                    }, 100);
                }
            } else {
                // Default to 'all' if no parameter
                filterContent('all');
            }
        }

        // Initialize check
        checkUrlCategory();

        // View More Button Logic
        window.viewMoreExpanded = false;
        const viewMoreBtn = document.querySelector('#viewMoreBtn'); // Ensure selected if exists
        if (viewMoreBtn) {
            viewMoreBtn.parentElement.style.display = 'block'; // Container is block, button controls itself

            viewMoreBtn.addEventListener('click', () => {
                window.viewMoreExpanded = true;
                const activePill = document.querySelector('.filter-pill.active');
                const category = activePill ? activePill.getAttribute('data-category') : 'all';
                filterContent(category);
            });
        }

        // Category Click Event
        filterPills.forEach(pill => {
            pill.addEventListener('click', () => {
                filterPills.forEach(p => p.classList.remove('active'));
                pill.classList.add('active');

                const category = pill.getAttribute('data-category');
                const relativeSearch = searchInput.value; // Keep current search if any
                filterContent(category, relativeSearch);
            });
        });

        // Search Input Event
        searchInput.addEventListener('input', (e) => {
            const searchTerm = e.target.value;
            const activePill = document.querySelector('.filter-pill.active');
            const currentCategory = activePill ? activePill.getAttribute('data-category') : 'all';

            filterContent(currentCategory, searchTerm);
        });

        // Search Button Click
        searchBtn.addEventListener('click', () => {
            const searchTerm = searchInput.value;
            const activePill = document.querySelector('.filter-pill.active');
            const currentCategory = activePill ? activePill.getAttribute('data-category') : 'all';

            filterContent(currentCategory, searchTerm);
        });

        // --- Click Handler for Detail Page ---
        // Ensure elements exist before adding listeners to avoid errors
        const cards = document.querySelectorAll('.book-card');
        if (cards.length > 0) {
            // Add click event to book cards for navigation
            cards.forEach(card => {
                card.style.cursor = 'pointer';

                // Find the add button inside this card and stop propagation on it specifically
                const addBtn = card.querySelector('.add-btn');
                if (addBtn) {
                    addBtn.addEventListener('click', (e) => {
                        e.stopPropagation();
                        // The existing onclick logic on the button (if any) will still fire
                    });
                }

                card.addEventListener('click', (e) => {
                    // Double check just in case
                    if (e.target.closest('.add-btn')) return;

                    const title = card.querySelector('.book-title').innerText;
                    const author = card.querySelector('.book-author').innerText;
                    const price = card.querySelector('.book-price').innerText;
                    const image = card.querySelector('img').src;

                    // URL Encode params
                    const params = new URLSearchParams({
                        title: title,
                        author: author,
                        price: price,
                        image: image
                    });

                    window.location.href = `shop-detail.html?${params.toString()}`;
                });
            });
        }
    </script>
</body>

</html>